# WebSocket
- 대부분의 웹 기반 클라이언트-서버 어플리케이션에서 HTTP의 요청-응답 모델은 서버로부터 클라이언트로의 정보 전송의 요청이 발생한 경우에서만 이루어지는 한계를 지님
- 웹소켓 프로토콜은 HTTP연결을 웹소켓으로 업그레이드하기 위한 기술로, 이를 통해 웹소켓의 양 종단간의 독립된 양방향 메시지 전송이 가능

## JSR 356
- JSR356은 자바 클라이언트 뿐만 아니라 서버 어플리케이션까지 웹소켓 연결로 통합할 수 있는 웹소켓 프로토콜 지원 스펙 의미
- 이에 따라 실제 웹소켓 구현에 독립적인 웹소켓 기반 어플리케이션 구현이 가능
- JAVA EE 7에 표준 스펙으로 채택

## 프로그래밍 방식
- JSR356 스펙은 대부분의 JavaEE 개발자들이 쉽게 적용할 수 있도록 표준패턴과 기술에 따라 Annotation & Injection 기법을 지원
- 두 가지 모두 event-driven방식에 기반

## Life Cycle
- 클라이언트 Peer에서 HTTP 핸드쉐이크 요청으로 웹소켓 통신 시작
- 이에 대해 서버 Peer에서 이 핸드쉐이크 요청을 받아 핸드쉐이크 응답을 전송
- 완전하게 대칭인 전이중 양방향 연결이 수립
- 어느 한쪽에서 연결을 종료할 때까지 양 Peer는 서로간의 메시지 송수신이 가능

## Broker
- 뜻그래도 중개자의 역할
- webSocket을 이용한다는 것은 클라이언트간의  관계가 아닌 서버와 클라이언트의 peer to peer 관계이므로 메세지를 받아 정리하고 브로드캐스팅할 브로커역할이 필요
- Spring 내에 SimpleBroker 사용 할 수도 있고 외부의 rabbitMQ 같은  플러그인을 사용하여 중개자를 둘 수 있음(외부 플러그인 사용시 spring은 일종의 서버 역할만 수행)